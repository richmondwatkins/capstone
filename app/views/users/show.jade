extends ../shared/template

block content
  h3= owner.username
  img(src= '#{owner.explorer}')
  a.profile-links#revealFavs(href='#')  Favorite Locations
  a.profile-links#revealGames(href='#') Saved Games
  a.profile-links#revealMaps(href='#') Games / Maps

  #owner(data-id= owner._id)
  #my-games
    each game in games
      .games
        h3.game #{game.score} Points
        a(href='/owners/#{game.owner}')= game.owner
        div(class='leader-maps', id='#{game._id}')
        each coord in game.coords
          div(class='coords', data-guess='#{coord.guessLoc}', data-actual='#{coord.actualLoc}')
        if (user.isOwner(game.userId))
          button.deleteGame X

    each location in owner.faveLocs
      div(class='faveLocs', data-coords='#{location}')

  #my-maps
    each map in maps
      .my-maps
        a(href='/maps/#{map._id}')= map.title
        div(class='maps', id='#{map._id}')
        div(class='map-settings', data-center='#{map.center}', data-zoom='#{map.zoom}')
        if (user.isOwner(map.userId))
          button.deleteMap X


  #favsMap
  #dialog
    #pan

block scripts
  script(src='/js/es6/compiled/profilemaps.js')
